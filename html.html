<!DOCTYPE html>
<html class='whole'>

<link href='stylesheet.css' rel='stylesheet'>

<h1 class='title'>
Etch-a-Sketch!
</h1>
<div class='subtitle'>
	Hover over the square to fill it in
</div>


<div id='container'>
</div>



<form id='setSquares' style='text-align:center' name='setSquares'>
	<br><label for='numberSquares'>Please set the number of squares per column/row:</label><br>
<input type='textbox' id='numberSquares' name='setSquares'>
<input type='button' id='submitSquares' value='Create!' name='setSquares'>
<input type='reset' id='reset' value='Reset'>
</form>


<script>

document.getElementById('submitSquares').onclick = function() {clear();makeSquare()};
document.getElementById('reset').onclick = function() {clear()};
ns = document.getElementById('numberSquares');
con = document.getElementById('container');

function makeSquare(){
let squares = ns.value;
if (squares > 0){
	con.innerHTML = '';
	con.style.setProperty(
		"grid-template-columns",
		`repeat(${squares},2fr)`);
	con.style.setProperty(
		"grid-template-rows",
		`repeat(${squares},2fr`);
	for (i=0; i<squares*squares; i++){
		div=document.createElement('div');
		div.classList.add("box");
		con.appendChild(div);
	}
}
else if (typeof squares !== "number"){
	alert('Please input a positive number');
}
}

function clear(){
	document.querySelectorAll('.box').forEach(function(a){a.remove()});
	document.querySelectorAll('.box-change').forEach(function(a){a.remove()});
}

function color(e){
	if (e.target.className === "box"){
		e.target.classList.replace('box', 'box-change');
	}
}

function getRandomColor(){
	letters = '0123456789ABCDEF';
	color = '#';
	for (i = 0; i < 6; i++){
		color += letters[Math.floor(Math.random() * 16)]
	}
	return color
}


con.addEventListener('mouseover', color);



</script>



</html>
